#pragma once

#include <t3d/t3dmodel.h>
#include <rspq.h>

#ifdef __cplusplus
extern "C" {{
#endif

typedef enum {{
{model_enum_entries}
    MODEL_COUNT = {model_count}
}} ModelId;

void models_init(void);
void models_shutdown(void);

T3DModel *models_get(ModelId id);
rspq_block_t *models_get_dpl(ModelId id);

void models_release(ModelId id);          // Release a reference to a model
void models_unload(ModelId id);           // Force unload a model
void models_unload_unused(void);          // Unload models with zero references
void models_unload_all(void);             // Unload all models to free memory

#ifdef __cplusplus
}}
#endif
